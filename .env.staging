# Staging Environment Configuration
# This file contains staging-specific settings

# Environment Type
NODE_ENV=staging
APP_ENV=staging
DEBUG=false

# Server Configuration
MCP_SERVER_HOST=staging.example.com
MCP_SERVER_PORT=443
MCP_SERVER_PROTOCOL=https
MCP_SERVER_TIMEOUT=30000
MCP_SERVER_MAX_RETRIES=3

# Security Configuration (Use secure key management in staging)
API_KEY=${STAGING_API_KEY}
SECRET_KEY=${STAGING_SECRET_KEY}
JWT_SECRET=${STAGING_JWT_SECRET}
ENCRYPTION_KEY=${STAGING_ENCRYPTION_KEY}

# Authentication
AUTH_ENABLED=true
AUTH_PROVIDER=oauth2
OAUTH_CLIENT_ID=${STAGING_OAUTH_CLIENT_ID}
OAUTH_CLIENT_SECRET=${STAGING_OAUTH_CLIENT_SECRET}
OAUTH_CALLBACK_URL=https://staging.example.com/auth/callback

# Database Configuration
DATABASE_URL=${STAGING_DATABASE_URL}
DATABASE_HOST=staging-db.example.com
DATABASE_PORT=5432
DATABASE_NAME=computer_use_mcp_staging
DATABASE_USER=${STAGING_DB_USER}
DATABASE_PASSWORD=${STAGING_DB_PASSWORD}
DATABASE_SSL=true

# Redis Configuration
REDIS_URL=${STAGING_REDIS_URL}
REDIS_HOST=staging-redis.example.com
REDIS_PORT=6379
REDIS_PASSWORD=${STAGING_REDIS_PASSWORD}
REDIS_DB=1

# Display Configuration
DISPLAY=:1
XAUTHORITY=/var/run/xauth/.Xauthority
X11_UNIX_SOCKET=/tmp/.X11-unix
VCXSRV_PATH=/opt/vcxsrv/vcxsrv

# Platform-specific Settings
PLATFORM_OVERRIDE=
SCREENSHOT_METHOD=x11
INPUT_METHOD=x11
ENABLE_RDP_CAPTURE=true

# Performance Settings
CACHE_ENABLED=true
CACHE_TTL=1800
MAX_SCREENSHOT_SIZE=10485760
COMPRESSION_ENABLED=true
COMPRESSION_QUALITY=90

# Logging Configuration
LOG_LEVEL=info
LOG_FORMAT=json
LOG_OUTPUT=file
LOG_FILE_PATH=/var/log/computer-use-mcp/staging.log
LOG_ROTATION_ENABLED=true
LOG_MAX_SIZE=100MB
LOG_MAX_FILES=7

# Monitoring and Metrics
METRICS_ENABLED=true
METRICS_PORT=9090
PROMETHEUS_ENABLED=true
OPENTELEMETRY_ENABLED=true
TRACING_ENABLED=true

# Error Handling
ERROR_REPORTING_ENABLED=true
SENTRY_DSN=${STAGING_SENTRY_DSN}
ERROR_SAMPLE_RATE=0.5
ERROR_INCLUDE_LOCALS=false

# Feature Flags
FEATURE_SELF_HEALING=true
FEATURE_AUTO_RESOLVER=true
FEATURE_INTELLIGENT_RETRY=true
FEATURE_ADVANCED_CACHING=true

# Rate Limiting
RATE_LIMIT_ENABLED=true
RATE_LIMIT_MAX_REQUESTS=500
RATE_LIMIT_WINDOW_MS=60000

# CORS Configuration
CORS_ENABLED=true
CORS_ORIGIN=https://staging.example.com,https://staging-app.example.com
CORS_CREDENTIALS=true

# Health Check
HEALTH_CHECK_ENABLED=true
HEALTH_CHECK_INTERVAL=30000
HEALTH_CHECK_TIMEOUT=5000

# Backup and Recovery
BACKUP_ENABLED=true
BACKUP_SCHEDULE=0 3 * * *
BACKUP_RETENTION_DAYS=14
BACKUP_LOCATION=s3://staging-backups/computer-use-mcp

# External Services
VAULT_ENABLED=true
VAULT_URL=${STAGING_VAULT_URL}
VAULT_TOKEN=${STAGING_VAULT_TOKEN}
AWS_REGION=us-east-1
AWS_ACCESS_KEY_ID=${STAGING_AWS_ACCESS_KEY_ID}
AWS_SECRET_ACCESS_KEY=${STAGING_AWS_SECRET_ACCESS_KEY}

# Development Tools
HOT_RELOAD=false
SOURCE_MAPS=true
MOCK_MODE=false

# Testing
TEST_MODE=false
TEST_TIMEOUT=5000
TEST_RETRIES=1